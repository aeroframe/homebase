/* ===============================
 GLOBAL
 =============================== */

*,
*::before,
*::after {
box-sizing: border-box;
}

html, body {
margin: 0;
padding: 0;
height: 100%;
background: #111;
color: #fff;
overflow: hidden;
font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ===============================
 MAP
 =============================== */

#map {
position: fixed;
inset: 0;
z-index: 1;
}

/* ===============================
 SIDEBAR (BASE)
 =============================== */

#sidebar {
position: fixed;
top: 0;
right: 0;
width: 300px;
height: 100vh;
background: #1c1c1c;
border-left: 1px solid #333;
z-index: 1000;

/* IMPORTANT: sidebar itself should NOT scroll */
overflow: hidden;
padding: 0; /* keep this 0; padding belongs inside */
}

/* Map pushed left ONLY on desktop */
@media (min-width: 769px) {
#map { right: 300px; }
}

/* ===============================
 SCROLL LAYER + CONTENT PADDING
 =============================== */

/* This is the ONLY scroll container */
#sidebar-scroll {
height: 100%;
overflow-y: auto;
-webkit-overflow-scrolling: touch;
overscroll-behavior: contain;
}

/* All spacing around EVERYTHING lives here */
#sidebar-content {
padding: 16px;
padding-bottom: 24px;
}

/* Headings + alerts */
#sidebar h2 {
margin: 12px 0 10px;
color: #0cf;
}

#alert-list .alert {
background: #222;
border-left: 4px solid #0cf;
padding: 0.75rem;
margin-bottom: 0.5rem;
border-radius: 10px;
}

/* ===============================
 MOBILE BOTTOM SHEET
 =============================== */

#sidebar-handle {
display: none;
}

@media (max-width: 768px) {

/* Full map behind sheet */
#map { inset: 0; }

/* Bottom sheet */
#sidebar {
  top: auto;
  bottom: 0;
  left: 0;
  right: 0;

  width: 100%;
  height: 55vh;          /* gives you more room so the card doesn't crowd */
  max-height: 85vh;

  border-left: none;
  border-top: 1px solid #333;
  border-radius: 16px 16px 0 0;

  transform: translateY(60%);
  transition: transform 0.25s ease;

  box-shadow: 0 -10px 30px rgba(0,0,0,0.6);
}

#sidebar.open {
  transform: translateY(0);
}

/* Drag handle */
#sidebar-handle {
  display: block;
  height: 28px;              /* fixed handle bar height */
  padding-top: 10px;
}

#sidebar-handle::before {
  content: "";
  display: block;
  width: 44px;
  height: 5px;
  background: #555;
  border-radius: 10px;
  margin: 0 auto;
}

/* Scroll container must account for handle height */
#sidebar-scroll {
  height: calc(100% - 28px);
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Safe area + consistent padding on mobile */
#sidebar-content {
  padding: 16px;
  padding-bottom: calc(24px + env(safe-area-inset-bottom));
}

/* Prevent iOS zoom */
input { font-size: 16px; }
}

/* ===============================
 AIRCRAFT MARKERS (DIV ICONS)
 =============================== */

.aircraft-icon {
position: relative;
width: 44px;
height: 44px;
background: transparent;
text-align: center;
font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;

/* must be clickable */
pointer-events: auto;
}

.aircraft-arrow {
position: absolute;
left: 50%;
top: 6px;
width: 0;
height: 0;
border-left: 7px solid transparent;
border-right: 7px solid transparent;
border-bottom: 14px solid currentColor;
transform-origin: 50% 100%;
}

.aircraft-label {
position: absolute;
top: 30px;
left: 50%;
transform: translateX(-50%);
white-space: nowrap;
font-size: 11px;
font-weight: 600;
color: currentColor;
text-shadow: 0 0 3px rgba(0,0,0,0.9);
line-height: 1.15;
}

/* Remove Leaflet default white icon box */
.leaflet-div-icon {
background: transparent !important;
border: none !important;
}

/* If your JS uses this id for the aircraft card */
#selected-aircraft-card {
width: 100%;
max-width: 100%;
overflow: hidden;
}